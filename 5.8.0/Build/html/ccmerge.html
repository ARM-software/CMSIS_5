<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ccmerge: Config File Updater</title>
<title>CMSIS-Build: ccmerge: Config File Updater</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="cmsis.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="cmsis_footer.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="CMSIS_Logo_Final.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CMSIS-Build
   &#160;<span id="projectnumber">Version 0.10.0 (beta)</span>
   </div>
   <div id="projectbrief">Tools, software frameworks, and work flows for productivity with CMSIS based projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ccmerge.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ccmerge: Config File Updater </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>ccmerge</b> supports the update process for configuration files that use <a href="../../Pack/html/configWizard.html"><b>Configuration Wizard Annotations</b></a>. The tool takes the configuration file located in the CMSIS-Pack (<code>pfile</code>) and merges the configuration information extracted from the configuration file located in the current project (<code>cfile</code>). If the merge succeeds, the result is written to 'cfile' after a copy of 'cfile' has been stored as 'cfile.nnnn'.</p>
<dl class="section note"><dt>Note</dt><dd><b>ccmerge</b> currently only works with <a class="el" href="make.html">Make</a>.</dd></dl>
<h1><a class="anchor" id="ccmerge_invocation"></a>
Invocation</h1>
<p><b>ccmerge</b> is called from the <b>Bash</b> command line with the following syntax:</p>
<div class="fragment"><div class="line">ccmerge -pfile &lt;name_of_pack_cfgfile&gt; -cfile &lt;name_of_current_cfgfile&gt; [-merge] [-details]</div>
</div><!-- fragment --><p><b>Operation</b> </p>
<table  class="cmtable" summary="ccmerge Arguments">
<tr>
<th style="min-width:210px">Option </th><th>Description  </th></tr>
<tr>
<td>-pfile &lt;name_of_pack_cfgfile&gt; </td><td>File path of the configuration file from a pack  </td></tr>
<tr>
<td>-cfile &lt;name_of_current_cfgfile&gt; </td><td>File path of the current config file in a project  </td></tr>
<tr>
<td>-merge </td><td>Execute merge: the current 'cfile' will be saved as 'cfile.nnnn' then 'cfile' will be updated and overwritten.  </td></tr>
<tr>
<td>-details </td><td>Create a log file: the name will be that of 'cfile' with an extension '.mlog' added to 'cfile'. The log file will contain info about merged items and their location or warning and error messages when processing fails.  </td></tr>
</table>
<p>When <code>-details</code> is specified without <code>-merge</code>, then an <code></code>.mlog file will be created that shows the differences of the config values but no actual merge takes place.</p>
<p>When <b>ccmerge</b> detects that <code>'cfile'</code> and <code>'pfile'</code> are incompatible, then an error message is shown and the merge is aborted.</p>
<dl class="section note"><dt>Note</dt><dd>A file's path name can be specified without surrounding " characters as long as it does not contain any spaces or other
special characters. It must be enclosed by " characters when the path name contains one or more spaces or other special characters.</dd></dl>
<h1><a class="anchor" id="ccmerge_examples"></a>
Usage Example</h1>
<div class="fragment"><div class="line">ccmerge -pfile $CMSIS_PACK_ROOT/ARM/CMSIS/5.6.0/CMSIS/RTOS2/RTX/Config/RTX_Config.h -cfile RTE/CMSIS/RTX_Config.h -merge</div>
</div><!-- fragment --><h1><a class="anchor" id="ccmerge_errors"></a>
Error Messages</h1>
<table  class="cmtable" summary="ccmerge messages">
<tr>
<th>Type </th><th>Message </th><th>Action  </th></tr>
<tr>
<td>ERROR </td><td>-cfile - missing filename </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>ERROR </td><td>-cfile: duplicate specification </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>ERROR </td><td>-pfile - missing filename </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>ERROR </td><td>-pfile: duplicate specification </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>ERROR </td><td>unknown command option </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>ERROR </td><td>Error - cannot open s file </td><td>Check input files.  </td></tr>
<tr>
<td>ERROR </td><td>Error - different types of configuration options </td><td>Check input files.  </td></tr>
<tr>
<td>ERROR </td><td>Error: vector.AddCitem() failed - out of memory. </td><td>Ensure you have enough memory available.  </td></tr>
<tr>
<td>ERROR </td><td>FATAL-ERROR: Out of Memory </td><td>Ensure you have enough memory available.  </td></tr>
<tr>
<td>ERROR </td><td>ccmerge failed, d Error(s) found. </td><td>Check log file.  </td></tr>
<tr>
<td>WARNING </td><td>ccmerge command line warning: duplicate '-s' ignored </td><td>See usage and correct the argument.  </td></tr>
<tr>
<td>INFO </td><td>Note: '-merge' not specified, checking files only. </td><td>For information only.  </td></tr>
<tr>
<td>INFO </td><td>Note: no config annotations in pfile </td><td>For information only.  </td></tr>
<tr>
<td>INFO </td><td>Note: no config annotations in cfile </td><td>For information only.  </td></tr>
<tr>
<td>INFO </td><td>ccmerge completed, 0 Error(s), 0 Warning(s), 'cfile' left unchanged. </td><td>For information only.  </td></tr>
<tr>
<td>INFO </td><td>ccmerge completed, d Error(s), d Warning(s), d items merged. </td><td>For information only.  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="CmdLineBuild.html">Command Line Build</a></li>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script>    
    </li>
  </ul>
</div>
</body>
</html>
